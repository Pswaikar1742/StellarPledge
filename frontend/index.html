<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StellarPledge - Decentralized Crowdfunding</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>‚≠ê StellarPledge</h1>
            <p class="tagline">Decentralized Crowdfunding on Stellar</p>
        </div>
    </header>

    <main class="container">
        <!-- Wallet Connection Section -->
        <section id="wallet-section" class="card">
            <h2>Connect Your Wallet</h2>
            <div class="wallet-input">
                <input type="text" id="secret-key-input" placeholder="Enter your Stellar secret key (starts with S...)">
                <button id="connect-wallet-btn" class="btn btn-primary">Connect Wallet</button>
            </div>
            <div id="wallet-info" class="hidden">
                <p><strong>Connected Address:</strong> <span id="wallet-address"></span></p>
                <p><strong>Balance:</strong> <span id="wallet-balance"></span> XLM</p>
                <button id="disconnect-wallet-btn" class="btn btn-secondary">Disconnect</button>
            </div>
            <p class="info-text">üí° <strong>Testnet Account Needed:</strong> Get a funded testnet account at <a href="https://laboratory.stellar.org/#account-creator?network=test" target="_blank">Stellar Laboratory</a></p>
        </section>

        <!-- Create Campaign Section -->
        <section id="create-campaign-section" class="card hidden">
            <h2>üöÄ Create a Campaign</h2>
            <form id="create-campaign-form">
                <div class="form-group">
                    <label for="campaign-goal">Funding Goal (XLM):</label>
                    <input type="number" id="campaign-goal" min="1" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="campaign-deadline">Deadline (hours from now):</label>
                    <input type="number" id="campaign-deadline" min="1" step="1" required>
                </div>
                <button type="submit" class="btn btn-primary">Create Campaign</button>
            </form>
        </section>

        <!-- Campaign List Section -->
        <section id="campaigns-section" class="card">
            <h2>üìã Active Campaigns</h2>
            <div class="campaigns-controls">
                <button id="refresh-campaigns-btn" class="btn btn-secondary">Refresh Campaigns</button>
                <div class="campaign-counter">
                    <span>Total Campaigns: <strong id="campaign-count">0</strong></span>
                </div>
            </div>
            <div id="campaigns-list">
                <p class="empty-state">No campaigns found. Create one to get started!</p>
            </div>
        </section>

        <!-- Campaign Detail Section -->
        <section id="campaign-detail-section" class="card hidden">
            <button id="back-to-list-btn" class="btn btn-secondary">‚Üê Back to List</button>
            <h2>Campaign Details</h2>
            <div id="campaign-detail-content">
                <!-- Will be populated dynamically -->
            </div>
        </section>

        <!-- Status Messages -->
        <div id="status-messages"></div>
    </main>

    <footer>
        <div class="container">
            <p>Built on <strong>Stellar Testnet</strong> with ‚ù§Ô∏è</p>
            <p class="contract-info">Contract: <code id="contract-address">CBBHYAHLF4FJWFMIX4ZZTGVWVL3M452TI4REVYJ64U6WGOKR2VFWOBO7</code></p>
        </div>
    </footer>

    <!-- Load stellar-sdk from node_modules -->
    <script src="node_modules/stellar-sdk/dist/stellar-sdk.js"></script>
    <script src="app.js"></script>
</body>
</html>
